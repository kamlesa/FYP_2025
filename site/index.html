<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>
      AI-Driven Sentiment Analysis for Public Perception of Emerging
      Technologies
    </title>
    <link
      href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  </head>

  <body>
    <h2>
      AI-Driven Sentiment Analysis for Public Perception of Emerging
      Technologies
    </h2>
    <div id="vis"></div>

    <script>
      const spec = {
        $schema: "https://vega.github.io/schema/vega-lite/v5.json",
        description:
          "Grouped bar chart of sentiment counts (positive, neutral, negative) by video ID.",
        data: {
          url: "json_file_spec_example.json",
          format: { type: "json" },
        },
        transform: [
          {
            fold: ["positive", "neutral", "negative"],
            as: ["sentiment", "count"],
          },
        ],
        mark: {
          type: "text",
          dy: -5, // vertical offset above bar
          color: "black",
        },
        encoding: {
          x: { field: "videoId", type: "nominal", title: "Video ID" },
          xOffset: { field: "sentiment" },
          y: { field: "count", type: "quantitative", title: "Comment Count" },
          color: { field: "sentiment", type: "nominal", title: "Sentiment" },
          tooltip: [
            { field: "videoId", type: "nominal" },
            { field: "sentiment", type: "nominal" },
            { field: "count", type: "quantitative" },
          ],
        },
      };

      vegaEmbed("#vis", spec);
    </script>
  </body>
</html>
